
# 平台选择
CONFIG_TARGET_rockchip=y
CONFIG_TARGET_rockchip_armv8=y
CONFIG_TARGET_rockchip_armv8_DEVICE_rockchip_rk3568-generic=y  # 通用RK3568设备

# 固件存储配置（32GB eMMC）
CONFIG_TARGET_ROOTFS_PARTSIZE=2048  # 根分区大小2GB（根据需求调整）
CONFIG_TARGET_ROOTFS_EXT4=y  # 使用EXT4文件系统

# 1. HDMI支持（RK3568显示驱动）
CONFIG_DRM=y
CONFIG_DRM_ROCKCHIP=y
CONFIG_DRM_FBDEV_EMULATION=y
CONFIG_FB=y
CONFIG_FB_ROCKCHIP=y
CONFIG_PACKAGE_kmod-drm-rockchip=y
CONFIG_PACKAGE_kmod-fb=y
CONFIG_PACKAGE_libdrm=y
CONFIG_PACKAGE_mesa=y  # 3D加速支持（可选，优化HDMI显示）

# 2. SATA/PCIe存储驱动
# PCIe基础支持
CONFIG_PCI=y
CONFIG_PCIE_ROCKCHIP=y
CONFIG_PACKAGE_kmod-pcie-rockchip=y
# SATA支持（AHCI协议）
CONFIG_AHCI=y
CONFIG_SATA_AHCI_PLATFORM=y
CONFIG_PACKAGE_kmod-ata-core=y
CONFIG_PACKAGE_kmod-ata-ahci=y
CONFIG_PACKAGE_kmod-ata-ahci-platform=y
# M.2 NVMe支持（B Key可能接NVMe）
CONFIG_PACKAGE_kmod-nvme-core=y
CONFIG_PACKAGE_kmod-nvme-fabrics=y
CONFIG_PACKAGE_kmod-nvme-tcp=y

# 3. USB音频支持
CONFIG_SND=y
CONFIG_SND_HWDEP=y
CONFIG_SND_RAWMIDI=y
CONFIG_SND_SEQUENCER=y
CONFIG_SND_OSSEMUL=y
CONFIG_SND_MIXER_OSS=y
CONFIG_SND_PCM_OSS=y
CONFIG_SND_PCM_OSS_PLUGINS=y
CONFIG_SND_USB_AUDIO=y
CONFIG_PACKAGE_kmod-sound-core=y
CONFIG_PACKAGE_kmod-snd-core=y
CONFIG_PACKAGE_kmod-snd-usb-audio=y
CONFIG_PACKAGE_kmod-snd-usb-lib=y
CONFIG_PACKAGE_alsa-utils=y  # 音频工具（可选）

# 4. 网络驱动（RTL8211F千兆网口）
CONFIG_PACKAGE_kmod-r8169=y  # RTL8211F通用驱动
CONFIG_PACKAGE_kmod-libphy=y
CONFIG_PACKAGE_kmod-phy-realtek=y

# 5. 无线网卡（MT7916）
CONFIG_PACKAGE_kmod-mt7916=y  # MT7916主驱动
CONFIG_PACKAGE_kmod-mt76-connac=y
CONFIG_PACKAGE_kmod-mt76-core=y
CONFIG_PACKAGE_kmod-mt76-usb=y
CONFIG_PACKAGE_mt7916-firmware=y  # 固件文件
CONFIG_PACKAGE_wireless-tools=y
CONFIG_PACKAGE_wpa-supplicant=y
CONFIG_PACKAGE_hostapd=y  # 软AP功能

# 6. 5G模块（350GL，通常是USB接口）
CONFIG_USB_SERIAL=y
CONFIG_USB_SERIAL_OPTION=y  # 支持USB 3G/4G/5G模块
CONFIG_PACKAGE_kmod-usb-serial=y
CONFIG_PACKAGE_kmod-usb-serial-option=y
CONFIG_PACKAGE_kmod-usb-net=y
CONFIG_PACKAGE_kmod-usb-net-qmi-wwan=y  # QMI协议支持（多数5G模块用）

# 7. SPI屏幕（GC9307）
CONFIG_FB_SPI=y
CONFIG_FB_SPI_GC9307=y  # GC9307驱动（需确认是否在iStoreOS源码中，若无需手动添加）
CONFIG_PACKAGE_kmod-fb-spi=y
CONFIG_PACKAGE_kmod-fb-spi-gc9307=y

# 8. 风扇PWM调速
CONFIG_PWM=y
CONFIG_PWM_ROCKCHIP=y
CONFIG_PACKAGE_kmod-pwm-rockchip=y
CONFIG_PACKAGE_lm-sensors=y  # 温度传感器工具
CONFIG_PACKAGE_fancontrol=y  # 风扇控制工具

# 9. 性能优化
# CPU频率调节（支持动态调频）
CONFIG_CPU_FREQ=y
CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE=y  # 默认性能模式
CONFIG_CPU_FREQ_GOV_ONDEMAND=y  # 按需调频（可选）
CONFIG_PACKAGE_kmod-cpufreq=y
# 内存优化（ZRAM压缩swap）
CONFIG_ZRAM=y
CONFIG_PACKAGE_kmod-zram=y
CONFIG_PACKAGE_zram-swap=y  # 自动配置zram
# 网络优化（硬件加速）
CONFIG_PACKAGE_kmod-nf-conntrack-netlink=y
CONFIG_PACKAGE_kmod-ipt-offload=y
CONFIG_PACKAGE_kmod-nft-offload=y
# 禁用调试功能（减小固件体积，提升性能）
CONFIG_DEBUG=n
CONFIG_DEBUG_FS=n

# 10. 基础工具（可选）
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_openssh-server=y  # SSH服务
CONFIG_PACKAGE_htop=y  # 系统监控
CONFIG_PACKAGE_diskutils=y  # 磁盘工具（fdisk等）
